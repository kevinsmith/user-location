/*!
 * UserLocation v0.0.1
 * Simple library to get a user's current location using the GeoIP service from GeoCarrot.
 * 
 * https://developers.geocarrot.com
 * 
 * Licensed under Apache-2.0
 * 
 * Copyright 2016 Kevin Smith <kevin@hearsayinteractive.com>
 * 
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *   http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * 
 */
(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.UserLocation=t():e.UserLocation=t()})(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var n=t.apiKey,i=void 0===n?null:n,r=t.cacheTtl,a=void 0===r?604800:r,c=t.fallback,u=void 0===c?"exact":c,l=t.specificity,s=void 0===l?"general":l;o(this,e);var d={latitude:null,longitude:null,accuracy:null};if(null===i&&("general"===s||"general"===u))throw new Error("An API key must be included when using GeoCarrot's GeoIP lookup.");var f=new Promise(function(e,t){if("exact"===s)navigator.geolocation.getCurrentPosition(function(t){d.latitude=t.coords.latitude,d.longitude=t.coords.longitude,d.accuracy=t.coords.accuracy,e(d)},function(e){t(e.message+" (error code: "+e.code+")")});else{if("general"!==s)throw new Error("Invalid configuration value for location specificity.");fetch("https://geoip.maplasso.com/api/?key="+i,{}).then(function(o){o.ok?o.json().then(function(t){d.latitude=t.data.attributes.location.latitude,d.longitude=t.data.attributes.location.longitude,e(d)}):t(o.statusText+")")},function(e){t(""+e.message)})}});return console.log(i,a,u),f};t.default=n,e.exports=t.default}])});
//# sourceMappingURL=UserLocation.min.js.map
